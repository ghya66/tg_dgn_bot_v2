[pytest]
# Pytest 配置文件

# 标记定义
markers =
    redis: 标记需要 Redis 服务器的测试（可通过 -m "not redis" 跳过）
    asyncio: 标记异步测试
    integration: 标记集成测试
    timeout: 标记测试超时时间（用于防止死锁）

# 异步测试配置
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# 测试路径
testpaths = tests

# 输出选项
addopts =
    -v
    --strict-markers
    --tb=short

# 日志配置
log_cli = false
log_cli_level = INFO

# 警告过滤
filterwarnings =
    ignore::telegram.warnings.PTBUserWarning
